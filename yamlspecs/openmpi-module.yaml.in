# This "copies" the system openmpi module file  into a standard
# standard naming convention 
!include rcic-package.yaml
!include rcic-module.yaml
---
- package: openmpi module 
  name: openmpi 
  baserpm: "{{name}}_{{version}}_{{compiler}}_{{compiler_version}}"
  category: COMPILERS
  release: 2
  versions: !include versions.yaml
  compiler: gcc 
  compiler_version: "{{versions.gcc}}"
  description: |
    Module file for system defined Openmpi version {{version}} compiled
    with GCC version {{compiler_version}}. Changes with major OS version changes
  root: "/usr"
#  spec: "{{compiler}}.{{compiler_version}}"
  module:
    <<: *ModuleCompiler
    prereq: ""
    requires:
      - openmpi
      - openmpi-devel
      - rcic-module-support
#    logname: "{{name}}/{{version}}/{{spec}}"
#    name: "{{spec}}"
#    path: "{{mod_defaults.path}}/{{version}}"
